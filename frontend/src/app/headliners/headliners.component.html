<div
  id="headlines"
  class="p-10 mx-10 text-zinc-900 dark:text-zinc-200"
>
  <h2 class="mb-2">
    <span class="titulos">Próximas Datas</span>
  </h2>
  <p>
    Estes são os cartazes dos nossos próximos concertos… ou pelo menos alguns
    deles 😏 Ainda estamos a preparar tudo, mas vai ser barulho, boa onda e
    muito rock!
  </p>

  <!-- Se houver cartazes -->
  <div *ngIf="cartazes && cartazes.length > 0; else noCartazes" class="flex py-2">
    <!-- Carousel Arrow Left -->
    <div
      id="previous"
      [ngClass]="{ 'animate-bounce-left': bounceLeft }"
      (click)="handleClick('left')"
      class="text-5xl flex justify-center items-center cursor-pointer p-2 relative -top-8"
    >
      <i class="fas fa-angle-left"></i>
    </div>

    <!-- Carousel Items -->
    <div
      #carousel
      class="scroll-smooth flex-1 mt-4 flex w-full gap-4 pb-5 snap-x overflow-x-auto cursor-grab select-none"
    >
      <div
        *ngFor="let cartaz of cartazes"
        class="min-w-[80%] md:min-w-[40%] transform transition duration-500 ease-in-out hover:scale-105 py-4 px-2"
      >
        <div
          class="w-full max-h-[75vh]  aspect-9/16 bg-zinc-900/5 rounded-xl shadow-md overflow-hidden flex items-center justify-center"
        >
          <img
            [src]="cartaz.image"
            [alt]="cartaz.barname"
            class="h-full w-full object-contain"
            loading="lazy"
            decoding="async"
            sizes="(min-width: 768px) 40vw, 80vw"
          />
        </div>

        <h5 class="mt-2">{{ cartaz.barname }}</h5>
        <div
          class="mt-1 flex flex-col gap-1 text-sm text-zinc-500 dark:text-zinc-400"
        >
          <div class="flex items-center gap-2">
            <i class="fa-regular fa-calendar text-zinc-600 dark:text-zinc-300"></i>
            <span>
              {{ cartaz.date | date : "d 'de' MMMM, HH:mm" : "" : "pt-PT" }}
            </span>
          </div>
          <div class="flex items-center gap-2">
            <i class="fa-solid fa-location-dot text-zinc-600 dark:text-zinc-300"></i>
            <a
              [href]="cartaz.mapsLink"
              target="_blank"
              rel="noopener noreferrer"
              class="hover:underline hover:text-sky-600 dark:hover:text-sky-400 transition-colors"
            >
              {{ cartaz.location }}
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Carousel Arrow Right -->
    <div
      id="next"
      [ngClass]="{ 'animate-bounce-right': bounceRight }"
      (click)="handleClick('right')"
      class="animate-bounce-x text-5xl flex justify-center items-center cursor-pointer p-2 relative -top-8"
    >
      <i class="fas fa-angle-right"></i>
    </div>
  </div>

  <!-- Mensagem quando não houver cartazes -->
  <ng-template #noCartazes>
    <div class="mt-6 p-6 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-center">
      <h3 class="text-xl font-semibold mb-2">Ainda sem datas marcadas 😅</h3>
      <p class="text-zinc-600 dark:text-zinc-300">
        Mas não te preocupes! Estamos a preparar tudo e em breve teremos concertos incríveis para ti. 🎸🔥
      </p>
    </div>
  </ng-template>
</div>
